<div class="min-h-screen bg-slate-950">
  <header class="border-b border-slate-800 bg-slate-950/80 px-6 py-6 backdrop-blur">
    <div class="mx-auto flex max-w-6xl flex-wrap items-center justify-between gap-4">
      <div>
        <p class="text-sm uppercase tracking-[0.3em] text-emerald-300">Admin dashboard</p>
        <h1 class="text-3xl font-semibold">Visão geral da clínica</h1>
      </div>
      <div class="flex items-center gap-3">
        <%= link_to "Novo agendamento", "#", class: "rounded-full bg-emerald-400 px-5 py-2 text-sm font-semibold text-slate-950" %>
        <%= link_to "Voltar para home", root_path, class: "rounded-full border border-slate-700 px-5 py-2 text-sm text-slate-200" %>
      </div>
    </div>
  </header>

  <main class="mx-auto flex max-w-6xl flex-col gap-8 px-6 py-10">
    <section class="grid gap-4 md:grid-cols-3">
      <div class="rounded-3xl border border-slate-800 bg-slate-900/60 p-6">
        <p class="text-xs uppercase tracking-[0.3em] text-slate-400">Clientes ativos</p>
        <p class="mt-4 text-3xl font-semibold"><%= @stats[:active_clients] %></p>
        <p class="mt-2 text-sm text-slate-400">Acompanhamentos em andamento</p>
      </div>
      <div class="rounded-3xl border border-slate-800 bg-slate-900/60 p-6">
        <p class="text-xs uppercase tracking-[0.3em] text-slate-400">Sessões na semana</p>
        <p class="mt-4 text-3xl font-semibold"><%= @stats[:sessions_this_week] %></p>
        <p class="mt-2 text-sm text-slate-400">Inclui check-ins e retornos</p>
      </div>
      <div class="rounded-3xl border border-slate-800 bg-slate-900/60 p-6">
        <p class="text-xs uppercase tracking-[0.3em] text-slate-400">Links configurados</p>
        <p class="mt-4 text-3xl font-semibold"><%= @stats[:upcoming_sessions] %></p>
        <p class="mt-2 text-sm text-slate-400">Google Meet conectados</p>
      </div>
    </section>

    <section class="grid gap-6 lg:grid-cols-[1.5fr_1fr]">
      <div class="rounded-3xl border border-slate-800 bg-slate-900/60 p-6">
        <div class="flex items-center justify-between">
          <h2 class="text-lg font-semibold">Clientes recentes</h2>
          <button class="rounded-full border border-slate-700 px-4 py-1 text-xs text-slate-300">Exportar</button>
        </div>
        <div class="mt-6 space-y-4">
          <% if @clients.any? %>
            <% @clients.first(4).each do |client| %>
              <div class="flex flex-wrap items-center justify-between gap-3 rounded-2xl border border-slate-800 bg-slate-950 px-4 py-4">
                <div>
                  <p class="font-semibold"><%= client.email %></p>
                  <p class="text-xs text-slate-400">Sessões: <%= client.sessions_count %></p>
                </div>
                <div class="text-right text-xs text-slate-400">
                  <p>Meet: <%= client.google_meet_link.presence || "Pendente" %></p>
                  <p>Última atividade: há 2 dias</p>
                </div>
              </div>
            <% end %>
          <% else %>
            <div class="rounded-2xl border border-dashed border-slate-700 px-6 py-10 text-center text-sm text-slate-400">
              Nenhum cliente cadastrado ainda. Comece adicionando novos pacientes.
            </div>
          <% end %>
        </div>
      </div>

      <div class="space-y-6">
        <div class="rounded-3xl border border-slate-800 bg-gradient-to-br from-emerald-400/20 to-slate-900/60 p-6">
          <h3 class="text-lg font-semibold">Checklist diário</h3>
          <ul class="mt-4 space-y-3 text-sm text-slate-200">
            <li class="flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950 px-4 py-3">
              <span>Confirmar sessões de amanhã</span>
              <span class="text-emerald-300">3</span>
            </li>
            <li class="flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950 px-4 py-3">
              <span>Enviar mensagens pendentes</span>
              <span class="text-emerald-300">5</span>
            </li>
            <li class="flex items-center justify-between rounded-xl border border-slate-800 bg-slate-950 px-4 py-3">
              <span>Atualizar notas clínicas</span>
              <span class="text-emerald-300">2</span>
            </li>
          </ul>
        </div>

        <div class="rounded-3xl border border-slate-800 bg-slate-900/60 p-6">
          <h3 class="text-lg font-semibold">Insights rápidos</h3>
          <p class="mt-3 text-sm text-slate-300">A maioria dos clientes prefere horários entre 18h e 20h.</p>
          <p class="mt-4 text-sm text-slate-300">Sugestão: abra mais janelas para sessões online.</p>
        </div>
      </div>
    </section>
  </main>
</div>
